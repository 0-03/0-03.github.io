(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e77163e"],{"72a3":function(e,t,s){"use strict";s("c7fd")},c7fd:function(e,t,s){},fbd8:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"index wrapper share-page"},[t("div",{staticClass:"content"},[t("h3",[e._v("微信分享制作器")]),t("p",{staticClass:"input-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.shareTitle,expression:"shareTitle"}],attrs:{type:"text",maxlength:"64",placeholder:"请输入标题"},domProps:{value:e.shareTitle},on:{input:function(t){t.target.composing||(e.shareTitle=t.target.value)}}})]),t("p",{staticClass:"input-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.shareDesc,expression:"shareDesc"}],attrs:{type:"text",maxlength:"128",placeholder:"请输入描述"},domProps:{value:e.shareDesc},on:{input:function(t){t.target.composing||(e.shareDesc=t.target.value)}}})]),t("p",{staticClass:"input-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.shareUrl,expression:"shareUrl"}],attrs:{type:"text",maxlength:"512",placeholder:"请输入URL"},domProps:{value:e.shareUrl},on:{input:function(t){t.target.composing||(e.shareUrl=t.target.value)}}})]),t("button",{staticClass:"submit",on:{click:e.register}},[e._v("点击确认后右上角分享")])])])},i=[],r=s("e93e"),n=s("bc3a"),o=s.n(n),h={name:"WechatShare",data(){return{shareTitle:"",shareDesc:"",shareUrl:"",shareConfig:""}},head(){return{meta:[{hid:"description","http-equiv":"Content-Security-Policy",content:"upgrade-insecure-requests"}]}},props:{msg:String},created(){this.wxJsSdkInit()},methods:{register(){this.shareConfig={title:""!=this.shareTitle?this.shareTitle:"汇正财经",desc:""!=this.shareDesc?this.shareDesc:"微信分享制作器",link:location.href,imgUrl:""!=this.shareUrl?this.shareUrl:location.href.split("/#")[0]+s("b640")},console.log(this.shareConfig),r["a"].onMenuShareAppMessage(this.shareConfig),r["a"].updateAppMessageShareData(this.shareConfig)},wxJsSdkInit(){o.a.post("/cors-mpapi/share/getsign",{url:window.location.href.split("#")[0]},{timeout:5e3,withCredentials:!0}).then(e=>{wx.config({debug:!0,appId:e.data.appid,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["onMenuShareAppMessage","updateAppMessageShareData"]})}).catch(e=>{console.log(e)}),this.shareConfig={title:""!=this.shareTitle?this.shareTitle:"汇正财经",desc:""!=this.shareDesc?this.shareDesc:"微信分享制作器",link:location.href,imgUrl:""!=this.shareUrl?this.shareUrl:location.href.split("/#")[0]+s("b640"),success:function(){console.log("已分享")},cancel:function(){console.log("已取消")},fail:function(){console.log(JSON.stringify())}},wx.ready(()=>{console.log(this.shareConfig),r["a"].onMenuShareAppMessage(this.shareConfig),r["a"].updateAppMessageShareData(this.shareConfig)})}}},l=h,c=(s("72a3"),s("2877")),p=Object(c["a"])(l,a,i,!1,null,"19491505",null);t["default"]=p.exports}}]);